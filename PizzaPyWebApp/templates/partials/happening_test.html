<!-- partials/happening.html -->

<div class="flex flex-col items-center w-full">
    <div class="font-bold text-white text-[72px] text-center">Whatâ€™s happening now?</div>
    <div class="font-bold text-[#ffba33] text-[72px] text-center">an event near you.</div>
</div>
<div class="mockup-window border border-gray-800 flex flex-col items-center justify-center w-full bg-[#1f2937] rounded-[16px] overflow-hidden">
    <div class="flex justify-between items-center w-full py-[8px] px-[16px]">
        <div class="flex items-center gap-[5px]">
            <img class="w-[10px] h-[10px]" src="img/circle-f-2.svg" />
            <img class="w-[10px] h-[10px]" src="img/circle-f.svg" />
            <img class="w-[10px] h-[10px]" src="img/image.svg" />
        </div>
        <div class="bg-[#374151] rounded-[5px] px-[8px] py-[4px]">
            <div class="text-[#f9fafb] text-[12px]">meetup.com</div>
        </div>
        <div class="flex items-center gap-[5px]">
            <img class="w-[24px] h-[24px]" src="img/chevron-left.svg" />
            <img class="w-[24px] h-[24px]" src="img/chevron-right.svg" />
        </div>
    </div>
    <img class="w-[1253px] h-[741.67px] object-cover" src="img/image-2.png" />
</div>

{% if event %}
<div class="event">
    <h2>{{ event.title }}</h2>
    <p>{{ event.description }}</p>
    <p>{{ event.venue.address }}, {{ event.venue.city }}, {{ event.venue.postalCode }}</p>
    <p>Starts at: {{ event.dateTime }}</p>
    <p>Ends at: {{ event.endTime }}</p>
    <p>Host: {{ event.host.name }} ({{ event.host.email }})</p>
    <a href="{{ event.shortUrl }}" target="_blank">Event Link</a>
    {% if event.isAttending %}
        <p>You are attending this event</p>
    {% elif event.rsvpState != 'RSVP' %}
        <form method="post" action="{% url 'join_group' event.id %}">
            {% csrf_token %}
            <button type="submit">Join Group</button>
        </form>
    {% else %}
        <form method="post" action="{% url 'attend_event' event.id %}">
            {% csrf_token %}
            <button type="submit">Attend</button>
        </form>
    {% endif %}
</div>
{% else %}
<p>No upcoming events found.</p>
{% endif %}
